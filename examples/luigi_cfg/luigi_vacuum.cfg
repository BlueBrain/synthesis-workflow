# TODO: Update this file according to new target classes

# luigi parameters
# [core]
# logging_conf_file = logging.conf

# global parameters
[SynthesisConfig]
tmd_parameters_path = out_vacuum/tmd_parameters.json
tmd_distributions_path = out_vacuum/tmd_distributions.json

[PathConfig]
morphs_df_path = synthesis_configs/morphs_df.csv
synth_morphs_df_path = out_vacuum/synth_morphs_df.csv
synth_output_path = out_vacuum/synthesized_morphologies
substituted_morphs_df_path = out_vacuum/substituted_morphs_df.csv
morphology_path = vacuum_morphology_path

# prepare step
[GetSynthesisInputs]
url = ssh://<username>@bbpcode.epfl.ch/project/proj82
git_synthesis_input_path = entities/bionames/rat/synthesis_input
local_synthesis_input_path = synthesis_input

[BuildMorphsDF]
neurondb_path = /gpfs/bbp.cscs.ch/data/project_no_backup/proj82_no_backup/home/gevaert/morph_release_old_code-2020-07-27/output/06_RepairUnravel-asc/neuronDB.xml
morphology_dirs = {"repaired_morphology_path": "/gpfs/bbp.cscs.ch/data/project_no_backup/proj82_no_backup/home/gevaert/morph_release_old_code-2020-07-27/output/06_RepairUnravel-asc", "repaired_morphology_path_h5": "/gpfs/bbp.cscs.ch/data/project_no_backup/proj82_no_backup/home/gevaert/morph_release_old_code-2020-07-27/output/06_RepairUnravel-h5"}


# synthesis setup
[ApplySubstitutionRules]
substitution_rules_path = synthesis_configs/substitution_rules.yaml

[BuildSynthesisParameters]
tmd_parameters_path = out_vacuum/tmd_parameters_no_scaling.json
input_tmd_parameters_path = synthesis_configs/tmd_specific_parameters.json
morphology_path = repaired_morphology_path_h5

[BuildSynthesisDistributions]
morphology_path = repaired_morphology_path_h5

# synthesize in vacuum
[VacuumSynthesize]
vacuum_synth_morphology_path = out_vacuum/vacuum_synth_morphologies
vacuum_synth_morphs_df_path = out_vacuum/vacuum_synth_morphs_df.csv
n_cells = 10
mtypes = ["all"]

# validation plots
[ValidateVacuumSynthesis]
with_morphometrics = True
with_density_profiles = True
with_vacuum_morphologies= True

[PlotVacuumMorphologies]
pdf_filename = figures_vacuum/vacuum_morphologies.pdf

[PlotMorphometrics]
morphometrics_path = figures_vacuum/morphometrics

[PlotDensityProfiles]
density_profiles_path = figures_vacuum/density_profiles.pdf
